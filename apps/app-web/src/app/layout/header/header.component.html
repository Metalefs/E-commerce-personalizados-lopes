<div class="sticky-nav"
  class="{{(NavState$ |async).activeNav.toLocaleLowerCase() == 'contato' ? 'orcamento-nav': ''}}"
  [ngClass]="(NavState$ |async).activeNav.toLocaleLowerCase() == 'básicos' ? 'produtos-nav': ''"
>
  <!-- container -->
  <mat-toolbar
  class="pos-sticky mr-0 container">
  <div class="w-full dis-flex flex-m flex-sb is-hidden-touch py-4">
    <div class="ml-1">
    </div>
    <a @fadeIn href="#" *ngIf='!search' class="logo"><img class=" pb-3" src="assets/images/icons/Logo.png" alt="LOGO"></a>
    <span class="spacer"></span>
    <div *ngIf="search" class="columns is-mobile is-multiline is-vcentered mx-3 w-full animate__animated animate__slideInLeft">
      <div class="column is-12-mobile animate__animated animate__slideInLeft">
        <div class="control has-icons-right animate__animated animate__slideInLeft">
          <input
            [(ngModel)]="search_filter"
            class="py-2 input"
            type="text"
            placeholder="buscar produtos">
            <button class="s-button z-top" (click)="procurar()">
              <mat-icon>search</mat-icon>
            </button>
        </div>
      </div>
      <!-- <div class="column is-hidden-mobile">
        <div class="w-full">
          <div class="select w-full">
            <select class="py-2  w-full" (selectionChange)="SelecionarCategoria($event)"
            [(ngModel)]="Categoria"
            [value]="Categoria">
              <option *ngFor="let cat of Categorias;" [value]="cat.Nome">{{cat.Nome}}</option>
            </select>
          </div>
        </div>
      </div> -->
    </div>
    <span class="mb-4 icon is-small is-right hoverable clickable" (click)="abrir_procurar()">
      <mat-icon matSuffix>{{search ? 'close' : 'search'}}</mat-icon>
    </span>
    <div class="columns mx-3 is-hidden-mobile link-section">
      <div *ngFor="let link of links" class="column">
        <a (click)="SetActiveNav(link)"
          [ngClass]="(NavState$ |async).activeNav == link.name ? 'active-nav': ''"
          class="nav-link hoverable {{link.name == 'inicio' ? 'inicio': ''}}"
          [routerLink]="link.href"
          routerLinkActive="true">
          <mat-icon *ngIf="link.icon">{{link.icon}}</mat-icon>
          {{link.name == "Básicos"? 'Produtos' : link.name}}
        </a>
      </div>
    </div>
    <div class="mb-4 mx-4">
      <div class="wrap-pic-cir mb-4 py-1 px-1 border-light">
        <div
        (mouseleave)="person._elementRef.nativeElement.click()">
        <mat-menu
        #appMenu="matMenu"
        (mouseleave)="person._elementRef.nativeElement.click()"
        >
          <ng-template matMenuContent let-name="name">
            <button mat-menu-item *ngIf="!user" (click)="openLogin()">Login</button>
            <button mat-menu-item *ngIf="user" [routerLink]="['/perfil']">{{user.Nome}}</button>
            <button mat-menu-item *ngIf="user && user?.Tipo == 1" [routerLink]="['/gerenciamento']">Gerenciamento</button>
            <button mat-menu-item *ngIf="user" (click)="Logout()">Sair</button>
          </ng-template>
        </mat-menu>
        </div>
        <button
          [matMenuTriggerFor]="appMenu"
          (mouseenter)="person._elementRef.nativeElement.click()"
          class=" w-full "
          #person
          mat-icon-button
          title="Perfil">
          <mat-icon>person_outline</mat-icon>
        </button>
      </div>
    </div>
    <div class="pb-4">
      <button mat-mini-fab data-aos="fade-up" (click)="openCheckout()"
          title="Checkout"
          aria-label="Botão abrir Orçamento"
          color="none"
          class="size4 flex-c-m how-social shadow-light orcamento trans-04 m-b-3 m-t-3">
          <div class="columns line-height-small is-mobile">
            <!-- <div class="column has-text-right">
              <p class="cart-title">Pedido</p>
              <p class="cart-subtitle" *ngIf="(Orcamento$|async)?.Produto.length == 0">carrinho vazio</p>
              <p class="cart-subtitle" *ngIf="(Orcamento$|async)?.Produto.length > 0">{{(Orcamento$|async)?.Produto.length}} item(s)</p>
            </div> -->
          </div>
          <div class="columns">
            <div class="column">
              <mat-icon class="material-icons-outlined">shopping_bag</mat-icon>
              <p class="cart-counter">{{(Orcamento$|async).Produto.length || 0}}</p>
            </div>
          </div>
        </button>
    </div>
  </div>
  <div class="w-full dis-flex flex-sb flex-sb-c flec-m columns is-vcentered is-hidden-desktop">
    <div class="ml-1">
    </div>
    <a @fadeIn href="#" *ngIf='!search' class="logo"><img class=" pb-3" src="assets/images/icons/Logo.png" alt="LOGO"></a>
    <span class="spacer"></span>
    <div *ngIf="search" class="columns is-mobile is-multiline is-vcentered mx-3 animate__animated animate__slideInRight">
        <div class="column is-12-mobile">
          <div class="control has-icons-right">
            <input
              [(ngModel)]="search_filter"
              class="py-2 input "
              type="text"
              placeholder="buscar produtos">
              <button class="s-button z-top" (click)="procurar()">
                <mat-icon>search</mat-icon>
              </button>
          </div>
        </div>
        <!-- <div class="column is-hidden-mobile">
          <div class="w-full">
            <div class="select w-full">
              <select class="py-2  w-full" (selectionChange)="SelecionarCategoria($event)"
              [(ngModel)]="Categoria"
              [value]="Categoria">
                <option *ngFor="let cat of Categorias;" [value]="cat.Nome">{{cat.Nome}}</option>
              </select>
            </div>
          </div>
        </div> -->
      </div>
      <div class="box hoverable clickable float-r">
        <span class="icon is-small is-right hoverable clickable float-r" (click)="abrir_procurar()">
          <div class="ml-1">
          </div>
          <mat-icon matSuffix>{{search ? 'close' : 'search'}}</mat-icon>
        </span>
      </div>
    <div class="pb-4">
      <button mat-mini-fab data-aos="fade-up" (click)="openCheckout()"
          title="Checkout"
          aria-label="Botão abrir Orçamento"
          color="none"
          class="size4 flex-c-m how-social shadow-light orcamento trans-04 m-b-3 m-t-3">
          <div class="columns line-height-small is-mobile">
            <!-- <div class="column has-text-right">
              <p class="cart-title">Pedido</p>
              <p class="cart-subtitle" *ngIf="(Orcamento$|async)?.Produto.length == 0">carrinho vazio</p>
              <p class="cart-subtitle" *ngIf="(Orcamento$|async)?.Produto.length > 0">{{(Orcamento$|async)?.Produto.length}} item(s)</p>
            </div> -->
          </div>
          <div class="columns">
            <div class="column">
              <mat-icon class="material-icons-outlined">shopping_bag</mat-icon>
              <p class="cart-counter">{{(Orcamento$|async).Produto.length || 0}}</p>
            </div>
          </div>
        </button>
    </div>
  </div>
</mat-toolbar>
<mat-toolbar-row
  [ngClass]="(NavState$ |async).activeNav.toLocaleLowerCase() == 'básicos' ? 'produtos-nav-under': 'is-hidden'">
</mat-toolbar-row>

</div>
