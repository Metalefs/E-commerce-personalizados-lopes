<div>
  <personalizados-lopes-categoria-produto
    [Produto]="Produto"
    [Categorias]="Categorias"
    (onCriarCategoria)="CriarCategoria()"
    (onSelecionarCategoria)="SelecionarCategoria($event)"
  ></personalizados-lopes-categoria-produto>

  <div class="columns">

    <div class="column is-4 pt-3">
      <div class="pos-sticky top-0">
        <mat-chip-list class="is-left">
          <mat-chip class="mx-1 py-1 px-6 is-capitalized">{{
            translateStatusProduto(Produto.Status)
          }}</mat-chip>
        </mat-chip-list>
        <personalizados-lopes-status-produto
          [Produto]="Produto"
        ></personalizados-lopes-status-produto>
        <div>
          <gallery
            gallerize
            id="myGallery"
            class=""
            *ngIf="galleryConfig$ | async; let config"
            [counter]="false"
            [nav]="false"
            [thumbWidth]="config.thumbWidth"
            [thumbHeight]="config.thumbHeight"
            [thumbPosition]="config.thumbPosition"
          >
          </gallery>
          <div class="file has-name pb-3">
            <label class="file-label">
              <input
                class="file-input"
                multiple
                type="file"
                (change)="upload($event)"
              />
              <span class="file-cta">
                <span class="file-icon">
                  <i class="pi pi-cloud-upload"></i>
                </span>
                <span class="file-label">
                  Escolha as imagensâ€¦
                </span>
                <span class="file-name">
                  {{ fileNames }}
                </span>
              </span>
            </label>
          </div>
        </div>
      </div>
    </div>

    <div class="column px-3 has-background-white z-index-2 pos-sticky">
      <div class="columns is-multiline mb-0 pb-0">
        <div class="column has-background-light">
          <mat-form-field class="field w-full">
            <div class="control"></div>
            <input
              matInput
              class="input"
              type="text"
              [(ngModel)]="Produto.Nome"
              placeholder="Nome"
              title="Nome"
            />
          </mat-form-field>

          <mat-divider></mat-divider>

          <mat-form-field class="field w-full">
            <div class="control"></div>
            <input
              matInput
              class="input"
              type="text"
              [(ngModel)]="Produto.Subtitulo"
              placeholder="Subtitulo"
            />
          </mat-form-field>

          <mat-divider></mat-divider>

          <div class="descricao-produto w-full py-4">
            <mat-form-field class="field w-full">
              <div class="control"></div>
              <textarea
                matInput
                class="input"
                type="text"
                [(ngModel)]="Produto.DescricaoRapida"
                placeholder="Descricao Rapida"
              ></textarea>
            </mat-form-field>
          </div>

          <mat-divider></mat-divider>

          <mat-form-field class="field w-full">
            <div class="control">
              <input
                matInput
                class="input"
                type="text"
                [(ngModel)]="Produto.Marca"
                placeholder="Marca"
              />
            </div>
          </mat-form-field>

          <mat-divider></mat-divider>

          <mat-form-field class="field w-full">
            <div class="control">
              <input
                matInput
                class="input"
                type="text"
                [(ngModel)]="Produto.Modelo"
                placeholder="Modelo"
              />
            </div>
          </mat-form-field>

          <mat-divider></mat-divider>

          <div class="my-1">
            <mat-form-field class="field">
              <div class="control">
                <input
                  matInput
                  class="input"
                  type="number"
                  min="1"
                  [(ngModel)]="Produto.Preco"
                  [value]="Produto.Preco"
                  placeholder="Preco"
                />
              </div>
            </mat-form-field>

            <mat-divider></mat-divider>

            <mat-form-field class="field">
              <mat-label>Preco Promocional</mat-label>
              <div class="control">
                <input
                  matInput
                  class="input"
                  type="number"
                  min="1"
                  [(ngModel)]="Produto.PrecoPromocional"
                  [value]="Produto.PrecoPromocional"
                />
              </div>
            </mat-form-field>

            <mat-form-field class="field">
              <div class="control">
                <input
                  matInput
                  class="input"
                  type="number"
                  min="1"
                  [(ngModel)]="Produto.Parcelas"
                  [value]="Produto.Parcelas"
                  placeholder="Parcelas"
                />
              </div>
            </mat-form-field>

            <mat-divider></mat-divider>

            <personalizados-lopes-exibicao-preco-produto
              [Produto]="Produto"
            ></personalizados-lopes-exibicao-preco-produto>
          </div>

          <personalizados-lopes-quantidade-produto
            [Produto]="Produto"
            (onDecrescerQuantidade)="DecrescerQuantidade()"
            (onIncrementarQuantidade)="IncrementarQuantidade()"
            (onVerificarQuantidade)="VerificarQuantidade($event)"
          ></personalizados-lopes-quantidade-produto>

          <mat-divider></mat-divider>

          <mat-form-field class="field">
            <mat-label>Quantidade Minima</mat-label>
            <div class="control">
              <input
                matInput
                class="input"
                type="number"
                min="1"
                value="1"
                [(ngModel)]="Produto.QuantidadeMinima"
                [value]="Produto.QuantidadeMinima"
              />
            </div>
          </mat-form-field>

          <mat-divider></mat-divider>

          <div class="w-full py-3 mb-0">
            <div class="columns is-mobile mb-0">
              <div class="column is-6">
                <!-- Cor -->
                <personalizados-lopes-cor-produto
                  [Produto]="Produto"
                  [colorCtrl]="colorCtrl"
                  (onAddCor)="addCor($event)"
                  (onSelectedCor)="selectedCor($event)"
                  (onRemoveCor)="removeCor($event)"
                ></personalizados-lopes-cor-produto>
              </div>

              <div class="column is-6">
                <!-- Tamanho -->
                <personalizados-lopes-tamanho-produto
                  [Produto]="Produto"
                  [sizeCtrl]="sizeCtrl"
                  (onAddTamanho)="addTamanho($event)"
                  (onRemoveTamanho)="removeTamanho($event)"
                  (onSelectedTamanho)="selectedTamanho($event)"
                ></personalizados-lopes-tamanho-produto>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <personalizados-lopes-dimensoes-produto
    [Produto]="Produto"
  ></personalizados-lopes-dimensoes-produto>

  <personalizados-lopes-criacao-tags
    [Produto]="Produto"
    [tagCtrl]="tagCtrl"
    (onAddTag)="addTag($event)"
    (onRemoveTag)="removeTag($event)"
  ></personalizados-lopes-criacao-tags>

  <div class="w-full columns is-gapless is-multiline">
    <div class="column is-12">
      <personalizados-lopes-descricao-produto
        [Produto]="Produto"
      ></personalizados-lopes-descricao-produto>
    </div>

    <div class="column is-12">
      <personalizados-lopes-especificacao-produto
        [Produto]="Produto"
      ></personalizados-lopes-especificacao-produto>
    </div>
  </div>
  <personalizados-lopes-dicas-cadastro></personalizados-lopes-dicas-cadastro>

  <mat-checkbox
    matNativeControl
    [(ngModel)]="Produto.Destaque"
    [checked]="Produto.Destaque"
  >
    Destaque
  </mat-checkbox>
</div>
