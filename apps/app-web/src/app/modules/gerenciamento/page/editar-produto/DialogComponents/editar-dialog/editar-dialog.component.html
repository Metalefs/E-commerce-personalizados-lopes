<h1 mat-dialog-title class="tem-cor-primaria">Editar</h1>
<div mat-dialog-content>
  <p>{{Produto?.Nome}}</p>

  <mat-form-field class="w-full">
    <input matInput type="text" [(ngModel)]="Produto.Nome" placeholder="Nome" value="{{Produto.Nome}}" title="Nome">
  </mat-form-field>
  <div class="w-full">
    <ckeditor [(ngModel)]="Produto.Descricao" [data]="Produto.Descricao" ></ckeditor>
  </div>
  <mat-form-field class="w-full">
    <input matInput type="text" [(ngModel)]="Produto.Subtitulo" placeholder="Subtitulo" value="{{Produto.Subtitulo}}">
  </mat-form-field>
  <mat-form-field appearance="">
    <mat-label>Categoria</mat-label>
    <mat-select matNativeControl (selectionChange)="SelecionarCategoria($event)" [(ngModel)]="Produto.NomeCategoria">
      <mat-option *ngFor="let opt of Categorias" [value]="opt.Nome">
        {{opt.Nome}}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field class="">
    <input matInput type="text" [(ngModel)]="Produto.Preco" placeholder="Preco" value="{{Produto.Preco}}">
  </mat-form-field>
  <mat-form-field class="">
    <mat-label>Quantidade Minima</mat-label>
    <input matInput type="number" [(ngModel)]="Produto.QuantidadeMinima"[value]="Produto.QuantidadeMinima">
  </mat-form-field>


  <div class="file has-name pb-3">
    <label class="file-label">
      <input class="file-input" multiple type="file" (change)="upload($event)" [value]="Produto.Imagem">
      <span class="file-cta">
        <span class="file-icon">
          <i class="fas fa-upload"></i>
        </span>
        <span class="file-label">
          Escolha as imagensâ€¦
        </span>
        <span class="file-name">
          {{fileNames}}
        </span>
      </span>
    </label>
  </div>

  <mat-form-field class="w-full">
    <mat-chip-list #chipList aria-label="Color selection">
      <mat-chip
        *ngFor="let cor of Produto.Cores"
         [selectable]="selectable"
         [removable]="removable"
         (removed)="removeCor(cor)">
        {{cor}}
        <mat-icon matChipRemove
         *ngIf="removable">
         cancelar
        </mat-icon>
      </mat-chip>
      <input
        placeholder="Nova cor..."
        #colorInput
        [formControl]="colorCtrl"
        [matAutocomplete]="auto"
        [matChipInputFor]="chipList"
        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
        (matChipInputTokenEnd)="addCor($event)">
    </mat-chip-list>
    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectedCor($event)">
      <mat-option *ngFor="let cor of filteredColors | async" [value]="cor">
        {{cor}}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>

  <mat-form-field class="w-full">
    <mat-chip-list #chipList2 aria-label="Size selection">
      <mat-chip
        *ngFor="let tamanho of Produto.Tamanhos"
         [selectable]="selectable"
         [removable]="removable"
         (removed)="removeTamanho(tamanho)">
        {{tamanho}}
        <mat-icon matChipRemove
         *ngIf="removable">
         cancelar
        </mat-icon>
      </mat-chip>
      <input
        placeholder="Novo tamanho..."
        #colorInput
        [formControl]="sizeCtrl"
        [matAutocomplete]="auto"
        [matChipInputFor]="chipList2"
        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
        (matChipInputTokenEnd)="addTamanho($event)">
    </mat-chip-list>
    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectedTamanho($event)">
      <mat-option *ngFor="let size of filteredSizes | async" [value]="size">
        {{size}}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>

  <p>Imagens</p>
  <div class="columns is-multiline">
    <div class="column" *ngFor="let img of Produto.Imagem">
      <figure class="img is-32x32 box">
        <img class="img" src="{{img}}">
      </figure>
    </div>
  </div>

</div>
<div mat-dialog-actions>
  <button mat-raised-button color="basic" [mat-dialog-close]="Produto" >
      Enviar
  </button>
  <button mat-raised-button color="basic" (click)="onNoClick()" cdkFocusInitial >
      Cancelar
  </button>
</div>
