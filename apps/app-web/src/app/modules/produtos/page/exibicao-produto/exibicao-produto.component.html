<div class="section has-background-white-bis mb-3  pt-4">
  <nav class="breadcrumb is-left pt-0" aria-label="breadcrumbs">
    <ul class="">
      <li class="">
        <a [routerLink]="'/produtos'" class="">Todos os produtos</a>
        <div class="">
          <mat-icon>keyboard_arrow_right</mat-icon>
        </div>
      </li>
      <li class="is-active">
        <a [routerLink]="'/produtos'" class="">{{Produto?.Categoria.Nome}}</a>
      </li>
    </ul>
  </nav>

  <div class="columns has-background-white" id="PRODUTO">
    <div class="column box mb-0">
      <gallery id="myGallery" *ngIf="galleryConfig$ | async; let config" [counter]="false"
        [thumbWidth]="config.thumbWidth" [thumbHeight]="config.thumbHeight" [thumbPosition]="config.thumbPosition">
      </gallery>
    </div>
    <!-- <div class="column is-1 is-hidden-touch"></div> -->
    <div class="column pl-2">
      <div class="mh-70 px-2 pt-6">
        <p class="titulo-produto">{{Produto?.Nome}}</p>
        <mat-divider></mat-divider>
        <div class="py-3 w-full">
          <p>Selecione a opção de <b>tamanho</b></p>
          <div *ngIf="Produto?.Tamanhos" class="columns is-mobile">
            <div *ngFor="let tamanho of Produto?.Tamanhos" class="column is-2">
              <button mat-flat-button class="descricao-produto card tamanho-produto"
                [ngClass]="Produto?.Tamanho == tamanho?'active':''"
                (click)="Produto.Tamanho = tamanho">{{tamanho}}</button>
            </div>
          </div>
        </div>
        <mat-form-field *ngIf="Produto?.Cor" class="w-full" appearance="">
          <mat-label>Selecione a cor</mat-label>
          <mat-select matNativeControl [(ngModel)]="Produto.Cor" [value]="Produto?.Cor">
            <mat-option *ngFor="let opt of Produto?.Cores" [value]="opt" class="w-full">
              <div class="cor-produto card box w-full" [style.backgroundColor]="opt.cor" (click)="Produto.Cor = opt">
                <p>{{opt.nome}}</p>
              </div>
            </mat-option>
          </mat-select>
        </mat-form-field>
        <div class="py-3">
          <!-- <p>Quantidade</p> -->
          <div class="columns">
            <div class="column is-3">
              <div class="field">
                <div class="control border is-large flex-c flex-m">
                  <button mat-icon-button (click)="DecrescerQuantidade()">
                    <mat-icon class="less">remove</mat-icon>
                  </button>
                  <input placeholder="{{Produto?.QuantidadeMinima}}" value="{{Produto?.QuantidadeMinima}}" type="number"
                    (change)="VerificarQuantidade($event)" min="{{Produto?.QuantidadeMinima}}"
                    class="quantidade-produto input" [(ngModel)]="(Produto).Quantidade">
                  <button mat-icon-button (click)="IncrementarQuantidade()">
                    <mat-icon class="more">add</mat-icon>
                  </button>
                </div>
              </div>
              <span class="has-text-grey-light">*Minimo {{Produto?.QuantidadeMinima}} unidades</span>
            </div>
            <div class="column"></div>
          </div>
          <div class="w-full">
            <div class="preco hoverable pb-4">
              <strong>{{Produto?.Preco == 0 ? '' : 'R$'+ Produto?.Preco}}</strong><span> a unidade</span>
            </div>
            <button *ngIf="Produto?.Status != statusProduto.esgotado" mat-raised-button
              [disabled]="Produto?.Status == statusProduto.esgotado" (click)="AdicionarAoOrcamento()"
              class="share-button pt-4 w-full background-light-red has-text-white has-text-weight-medium">
              <div class="level py-2">
                {{textoAdicionar}}
                <mat-icon>shopping_bag</mat-icon>
              </div>
            </button>
            <div *ngIf="Produto?.Status == statusProduto.esgotado" class="box pt-5 w-full">
              <personalizados-lopes-botao-esgotado [Produto]="Produto"></personalizados-lopes-botao-esgotado>
            </div>
          </div>
        </div>
        <div class="ml-3 w-full">
          <div class="columns w-full py-2 px-0 is-multiline">
            <div class="column w-full is-6 px-0 is-12-mobile">
              <button mat-raised-button (click)="EntrarEmContato()" routerLinkActive="router-link-active"
                class="button is-success w-full has-text-white has-text-weight-medium">
                <span class="nunitoParagraphy16 has-text-white">Entrar em contato via whatsapp</span>
              </button>
            </div>
            <div class="column">
              <div class="colums">
                <div class="column">
                  <share-button class="" button="facebook" theme="modern-dark" [showText]="true"
                    [text]="'Compartilhar'">
                  </share-button>
                  <share-button class="" button="twitter" theme="modern-dark" [showText]="true" [text]="'Twittar'">
                  </share-button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <button (click)="Like()" mat-icon-button [ngClass]="loading ? 'button is-loading':''">
        <mat-icon [ngClass]="Liked? 'liked': ''" class="heartbutton color-light-red">
          {{Liked? 'favorite': 'favorite_border'}}</mat-icon>
        {{Produto?.Likes ? Produto?.Likes : 0}} coraç{{Produto?.Likes == 1 ? "ão" : "ões"}}
        {{Liked? '- Obrigado por nos apoiar ' : ''}}
      </button>
    </div>

    <figure class="image is-64x64 img-orcamento" [ngClass]="isOrcamento ? 'active' : ''">
      <img src="{{Produto?.Imagem[0]}}" alt="">
    </figure>
  </div>

  <div class="w-full columns">
    <div class="descricao-produto column is-12 w-full"
      [innerHTML]="el.innerHTML || 'Este produto está sem uma descrição'"></div>
  </div>
</div>

<div class="w-full flex-w flex-sa px-6 background-dark has-text-white">
  <a [routerLink]="'/produtos'" class="has-text-white">
    <button mat-icon-button>
      <mat-icon>arrow_back_ios</mat-icon>
      <span>Produtos</span>
    </button>
  </a>
  <a [routerLink]="'/showcase'" class="has-text-white">
    <button mat-icon-button>
      <mat-icon>collections</mat-icon>
      <span>Galeria</span>
    </button>
  </a>
</div>
